# 要件定義書

## 1. プロジェクト概要

オンラインのECサイトを作成します。これはPDF形式のファイルの販売を行うシンプルなサイトです。

## 2. 目的と背景

AI駆動開発の実践例として、実際にECサイトを作成します。売上やアクセスは小規模ですが、本番で利用できるレベルのECサイトの構築が必要です。

## 3. スコープ

MVPです。初期リリースの段階で販売する本(PDF)の数は10程度です。

## 4-1. 機能一覧

| 機能名 | 機能の概要説明 | 主な利用者 | 入力情報 | 出力情報 | 処理の流れ |
|---|---|---|---|---|---|
| 商品一覧表示 | 販売中のPDFファイルを一覧表示する | 顧客 | なし | PDFファイルの一覧（タイトル、著者、価格、表紙画像など） | データベースから商品情報を取得し、一覧表示する |
| 商品詳細表示 | 選択されたPDFファイルの詳細情報を表示する | 顧客 | 商品ID | 商品の詳細情報（タイトル、著者、価格、表紙画像、商品説明など） | 商品IDに基づいてデータベースから商品情報を取得し、表示する |
| カート機能 | 購入予定のPDFファイルを追加・削除する | 顧客 | 商品ID、数量 | カート内の商品一覧 | カート情報（商品ID、数量）をセッションまたはデータベースに保存する |
| 注文処理 | カート内の商品を購入する | 顧客 | 顧客情報（氏名、住所、メールアドレスなど）、支払い情報 | 注文完了メッセージ、注文確認メール | 顧客情報と注文内容をデータベースに保存し、決済処理を行う |
| 決済機能 | クレジットカード決済を行う | 顧客 | クレジットカード情報 | 決済完了メッセージ | 決済代行サービスと連携し、決済処理を行う |
| マイページ | 注文履歴や顧客情報の確認・変更を行う | 顧客 | 顧客ID | 注文履歴、顧客情報 | 顧客IDに基づいてデータベースから情報を取得し、表示する |
| 商品管理 | PDFファイルの登録・編集・削除を行う | 管理者 | 商品情報（タイトル、著者、価格、表紙画像、商品説明、PDFファイルなど） | 登録・編集・削除完了メッセージ | 入力された商品情報をデータベースに登録・更新・削除する |
| **カテゴリ機能** | 商品をカテゴリ別に分類し、顧客がカテゴリ別に商品を閲覧できるようにする | 顧客、管理者 | カテゴリ名、カテゴリID | カテゴリ一覧、カテゴリ別商品一覧 | データベースにカテゴリ情報を保存し、商品と紐付ける |


## 4-2. 画面一覧

| 画面名 | 画面の目的 | 主な利用者 | 表示する主な情報 | 主な操作項目 | 遷移先の画面 |
|---|---|---|---|---|---|
| トップページ | サイトの入り口、新着商品やおすすめ商品を表示 | 顧客 | 新着商品、おすすめ商品、サイトの概要、**カテゴリ一覧** | 商品詳細ページへのリンク、**カテゴリ別商品一覧ページへのリンク** | 商品詳細ページ、**カテゴリ別商品一覧ページ** |
| 商品一覧ページ | 販売中のPDFファイルを一覧表示 | 顧客 | PDFファイルの一覧（タイトル、著者、価格、表紙画像など） | 商品詳細ページへのリンク、ソート機能、絞り込み機能 | 商品詳細ページ |
| 商品詳細ページ | 選択されたPDFファイルの詳細情報を表示 | 顧客 | 商品の詳細情報（タイトル、著者、価格、表紙画像、商品説明など）、**商品カテゴリ** | カートに追加ボタン | カートページ |
| カートページ | 購入予定のPDFファイルを確認・編集 | 顧客 | カート内の商品一覧、合計金額 | 数量変更、商品削除、注文手続きへ進むボタン | 注文確認ページ |
| 注文確認ページ | 注文内容を確認し、注文を確定する | 顧客 | 注文内容（商品一覧、合計金額、顧客情報、支払い情報） | 注文確定ボタン、注文内容変更ボタン | 注文完了ページ |
| 注文完了ページ | 注文完了を通知する | 顧客 | 注文番号、注文完了メッセージ | マイページへのリンク | マイページ |
| マイページ | 注文履歴や顧客情報の確認・変更 | 顧客 | 注文履歴、顧客情報 | 注文詳細ページへのリンク、顧客情報変更ページへのリンク | 注文詳細ページ、顧客情報変更ページ |
| ログインページ | 顧客がログインする | 顧客 | ログインフォーム | ログインボタン、新規登録ページへのリンク | トップページ、マイページ |
| 新規登録ページ | 新規顧客がアカウントを作成する | 顧客 | 新規登録フォーム | 登録ボタン | ログインページ |
| 商品管理ページ | PDFファイルの登録・編集・削除を行う | 管理者 | 商品一覧、商品登録・編集フォーム | 商品登録ボタン、商品編集ボタン、商品削除ボタン | 商品詳細ページ（管理者用） |
| **カテゴリ管理ページ** | カテゴリの登録・編集・削除を行う | 管理者 | カテゴリ一覧、カテゴリ登録・編集フォーム | カテゴリ登録ボタン、カテゴリ編集ボタン、カテゴリ削除ボタン | - |
| **カテゴリ別商品一覧ページ** | 選択されたカテゴリに属する商品を一覧表示する | 顧客 | カテゴリ名、PDFファイルの一覧（タイトル、著者、価格、表紙画像など） | 商品詳細ページへのリンク、ソート機能、絞り込み機能 | 商品詳細ページ |


この要件定義書は、初期段階のものであり、プロジェクトの進行に伴い変更される可能性があります。

**変更点:**

* 機能一覧に「カテゴリ機能」を追加しました。
* 画面一覧に「カテゴリ管理ページ」と「カテゴリ別商品一覧ページ」を追加しました。
* 既存の画面にカテゴリ関連の情報を追加しました。

上記のように、カテゴリ機能に関する記述を追加しました。ご確認ください。
